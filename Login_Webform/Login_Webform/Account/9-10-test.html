<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>restclient -  emo</title>
  
		<link href="../Styles/jquery.mobile.theme-1.0.min.css" rel="stylesheet" type="text/css">
		<link href="../Styles/jquery.mobile.structure-1.0.min.css" rel="stylesheet" type="text/css">
		<script src="../Scripts/jquery-1.6.4.min.js" type="text/javascript"></script>
		<script src="../Scripts/jquery-mobile/jquery.mobile-1.0.min.js" type="text/javascript"></script> 	
<!--
		<script type='text/javascript' src='http://code.jquery.com/jquery-1.8.3.js'></script>
-->
  <!--
  <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  -->
  <!--
  <style type='text/css'>

    
  </style>
  -->


<script type='text/javascript'>//<![CDATA[ 
$(window).load(function(){

$(document).ready(function() {
  $("#password2").keyup(validate);
});


function validate() {
  var password1 = $("#password1").val(); 
  var password2 = $("#password2").val();

    
 
    if(password1 == password2) {
       $("#validate-status").html("&#10004").css('color','#0C3');
	   <!--css('background','#04B404');-->//background color     
    }
    else {
       $("#validate-status").html("&#10006;").css('color','#F00');
    }
    
}

  


/*
var echo = function(dataPass) {
    $.ajax({
        type: "POST",
		url: "dream-test.html",
		dataType: 'json',
        data: dataPass,
        cache: false,
        success: function(json) {
		    alert( 'You');		
            alert("Username: " + json.username);			
        }
    });
};
*/

$('.list').live('click', function() {
alert("function");
//.success(function(result) { })
//.error(function(jqXHR, textStatus, errorThrown) { });

/*    $.get("http://vhost0221.dc1.on.ca.compute.ihost.com/aspnet_client/WcfService1/Service1.svc/insert/a944/postivieow/os", function(insert)
	 {
	  var json = JSON.stringify(insert);   // converts json string to json object

      var obj = JSON && JSON.parse(json) || $.parseJSON(json);  	// for browser compatibility
	  alert(obj.username);  // select the parsed username
    });
});*/

	// input into the get request, taken from the form
    var user =document.getElementById("textinput").value;
    var pass =document.getElementById("password1").value;
    var mailAddress =document.getElementById("email").value;
//	alert(user);


$.get("http://vhost0221.dc1.on.ca.compute.ihost.com/aspnet_client/WcfService1/Service1.svc/insert/"+user+"/"+pass+"/"+mailAddress+"")
//$.get("http://vhost0221.dc1.on.ca.compute.ihost.com/aspnet_client/WcfService1/Service1.svc/insert/a1101/pass/ema")

	// create 3 variables, taking the user inputted registration info and sending it to the server


	// the jqXHR error handler was added to jQuery http://stackoverflow.com/questions/5047906/how-to-detect-jquery-get-failure-seeking-simple-code-example
	.success(function(insert)  // new user
	 {
	  alert("New user successfully created!");
	  var json = JSON.stringify(insert);   // converts json string to json object

      var obj = JSON && JSON.parse(json) || $.parseJSON(json);  	// for browser compatibility
	  alert(obj.username);  // select the parsed username
	  alert(obj.email);  // select the parsed username	  
	  alert(obj.password);  // select the parsed username	  
    })
	.error(function(jqXHR, textStatus, errorThrown) { 	// duplicate user
	alert('Error. Please try again!');
	location.reload();		// refresh
//	window.location.replace("http://stackoverflow.com"); // redirect 


	
	});
});	

});//]]>  

</script>


</head>
<body>


	


<div data-role="page" id="page1" data-theme="e">
  <div data-role="header">
    <h1>Login</h1>
  </div>
  <div data-role="content">
    <div data-role="fieldcontain">
      <p>
        <label for="textinput">Username</label>
        <input placeholder="Please enter your username" type="text" name="textinput" id="textinput" value=""/>
      </p>
      
      <div data-role="fieldcontain">
        <p>
          <label for="password1">Password</label>
          <input placeholder="Please enter your password" type="password" name="password1" id="password1" value=""  />
        </p>
	
        <div data-role="fieldcontain">
        <span>
          <label for="password2">Re-type Password</label>
          <input placeholder="Please re-type your password" type="password" name="password2" id="password2" value=""  />
          </span>

        <span id="validate-status" ></span>
        <div data-role="fieldcontain">
        
          <p>
           <label for="email">Email</label>
            <input placeholder="xxx@yyy.zzz" type="text" name="email" id="email" value="" />
          </p>
          <p>&nbsp;
            <input type="submit" name="submit" class = "list" value="Register" />
          </p>
        </div>
      </div>
    </div>
  </div>
  <div data-role="footer">
    <h4>Footer  </h4>
  </div>
 </div>
</div>

<!--<input type="button" class="list" value="Register"></input>-->

  
</body>


</html>

